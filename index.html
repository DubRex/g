<html>

<body style="background-color:lightblue;">

<img id="sunnydark" width="0" height="0" style="visibility:hidden" src="sunnydark.png">
<img id="deaglehands" width="0" height="0" style="visibility:hidden" src="deaglehands.png">
<img id="deaglehandsNEW" width="0" height="0" style="visibility:hidden" src="deaglehandsNEW.png">

<img id="charge1" width="0" height="0" style="visibility:hidden" src="charge1.png">


<canvas id="myCanvas" onload = 'move()' onclick = "clickfunc()" width="800" height="400" style=" padding-left: 0;
    padding-right: 0;
	cursor: none; 
    margin-left: auto;
    margin-right: auto;
	margin-top: 100px;
    display: block;border:3px solid white;">
</canvas>

</body>

<script>
var canvas = document.getElementById("myCanvas");
var ctx = canvas.getContext("2d");
ctx.font = "16px Arial";

var canvasX = 0; 
var canvasY = 0; 
canvas.addEventListener("mousemove", function(e) { 
    var cRect = canvas.getBoundingClientRect();              // Gets the CSS positions along with width/height
    canvasX = Math.round(e.clientX - cRect.left);        // Subtract the 'left' of the canvas from the X/Y
    canvasY = Math.round(e.clientY - cRect.top);         // positions to get make (0,0) the top left of the    
});

var myVar = setInterval(move, 20);

var fire = 0; 
var fireTimer = 0; 

var ammo = 6; 

function clickfunc(){
if (fire == 0){
ammo = ammo - 1;}
fire = 1; 

}

function move() {

//BG
ctx.drawImage(sunnydark,0,0, 800, 400);

//Cursor
ctx.fillStyle = "red";
ctx.fillRect(canvasX - 100,210, 5, 5);

if (fire == 0){ctx.drawImage(deaglehandsNEW,canvasX - 500,0, 800, 400);}

if (fire == 1){ctx.drawImage(charge1,canvasX - 500,0, 800, 400); fireTimer++;}

if (fireTimer > 10){fire = 0; fireTimer = 0;}


ctx.fillStyle = "white";
//ctx.fillText("X: "+canvasX+", Y: "+canvasY, 10, 20);

ctx.font = "30px Arial";
if (ammo > 0){ctx.fillStyle = "white";}
else{ctx.fillStyle = "red";}
ctx.fillText("( " + ammo + " / 6)", 10, 380);


}//End of FUNCTION


</script>

</html> 
